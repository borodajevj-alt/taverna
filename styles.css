/* ========= Base ========= */
:root{
  --bg: #0b0b12;
  --panel: rgba(255,255,255,0.06);
  --panel-2: rgba(255,255,255,0.08);
  --text: #ecf3ff;
  --muted: #bcd0e6;
  --brand: #6b8cff;     /* primary */
  --accent: #00d1ff;    /* secondary */
  --ok: #20e3b2;
  --warn: #ffb02e;

  --radius: 18px;
  --shadow: 0 20px 40px rgba(0,0,0,.35);
  --focus: 0 0 0 3px rgba(0,209,255,.18);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
  color:var(--text); background: radial-gradient(1200px 600px at 10% -10%, #4a21d3 0%, transparent 55%),
                      radial-gradient(900px 600px at 110% 10%, #0bb4ff33 0%, transparent 60%),
                      var(--bg);
  line-height:1.6;
}

/* Background orbs */
.bg-orbs{ position:fixed; inset:0; z-index:-1; pointer-events:none; }
.bg-orbs::before{
  content:""; position:absolute; inset:-20% -10% -10% -20%;
  background:
    radial-gradient(1200px 600px at 10% -10%, #6b8cff33 0%, transparent 60%),
    radial-gradient(900px 600px at 110% 10%, #00d1ff22 0%, transparent 65%),
    radial-gradient(700px 500px at 50% 120%, #20e3b222 0%, transparent 70%),
    conic-gradient(from 180deg at 70% 30%, #1a1f33 0deg, #0f1425 120deg, #0b0b12 240deg, #14182a 360deg);
  filter: blur(20px);
  animation: bg-shift 26s ease-in-out infinite;
}
@keyframes bg-shift{
  0%{transform:translate3d(0,0,0) scale(1)}
  50%{transform:translate3d(0,-2%,0) scale(1.03)}
  100%{transform:translate3d(0,0,0) scale(1)}
}
@media (max-width: 720px){
  .bg-orbs::before{
    inset:-30% -20% -20% -30%;
    filter: blur(26px);
    background:
      radial-gradient(70% 40% at 0% 0%, #6b8cff2b 0%, transparent 65%),
      radial-gradient(60% 35% at 100% 10%, #00d1ff1f 0%, transparent 70%),
      radial-gradient(65% 40% at 50% 100%, #20e3b21f 0%, transparent 70%),
      linear-gradient(180deg, #0c0f1d, #0b0b12);
  }
}
@media (prefers-reduced-motion: reduce){
  .bg-orbs::before{ animation:none; }
}

/* Layout */
.container{width:min(1160px, 92vw); margin-inline:auto}
.section{padding:84px 0}
.section.alt{background:linear-gradient(180deg, transparent, rgba(255,255,255,.03))}
.section-title{font-size: clamp(28px, 3.8vw, 44px); line-height:1.1; margin:0 0 12px}
.section-lead{color:var(--muted); margin:0 0 32px}
.lead{color:var(--muted); font-size: clamp(16px,1.6vw,18px)}

/* ========= Header ========= */
html { --header-h: 72px; }
.site-header{
  position:fixed; top:0; left:0; right:0; z-index:100;
  backdrop-filter:saturate(150%) blur(10px);
  background: rgba(11,11,18,.6);
  border-bottom: 1px solid rgba(255,255,255,.06);
}
body{ padding-top: var(--header-h); }

.header-inner{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 14px 0;
  position: relative;        /* добавлено */
  padding-right: 260px;      /* резервируем место под языки + тему */
  
}

.logo{display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--text); font-weight:700}
.logo-mark{display:inline-grid; place-items:center; width:36px; height:36px; border-radius:10px; background:linear-gradient(135deg,var(--brand),var(--accent)); box-shadow:var(--shadow); text-transform:lowercase}
.logo-text{letter-spacing:.4px}

.nav .burger{display:none; width:44px;height:44px; border:0; background:transparent; cursor:pointer}
.nav .burger span{display:block; width:26px; height:2px; background:#fff; margin:6px auto; border-radius:2px; transition:.3s}
.nav .menu{
  display: flex;
  gap: 22px;
  list-style: none;
  margin: 0;
  padding: 0;
  margin-right: 240px; /* красивый отступ между меню и языками */
}

.nav .menu a{color:#e7eeff; text-decoration:none; padding:10px 8px; border-radius:10px}
.nav .menu a:hover{background:var(--panel)}

.lang-switch{
  position: absolute;
  top: 50%;
  right: 72px;                 /* справа от темы */
  transform: translateY(-50%);
  display: flex;
  gap: 6px;
  width: 194px;                /* 4×44 + 3×6 = 194 — ширина ряда */
  justify-content: space-between;
}

.lang{background:var(--panel); color:#fff; border:1px solid rgba(255,255,255,.1); padding:8px 10px; border-radius:10px; cursor:pointer}
.lang.active{background:linear-gradient(135deg,var(--brand),var(--accent)); border-color:transparent}

/* Theme toggle button (рядом с языками) */
.theme{
  background: var(--panel);
  position: absolute;
  color: var(--text);
  border: 1px solid rgba(255,255,255,.12);
  padding: 8px 10px; border-radius: 10px; cursor: pointer; margin-left: 6px;
  line-height:1; width:40px; height:40px; display:inline-grid; place-items:center;
    top: 50%;
  right: 16px;
  transform: translateY(-50%);
}
.theme:hover{ filter: brightness(1.06); }

/* ========= Hero ========= */
.hero{padding:96px 0 64px}
.hero-inner{display:grid; grid-template-columns: 1.1fr .9fr; gap:42px; align-items:center}
.hero h1{font-size: clamp(34px, 5.2vw, 64px); margin:.1em 0 .3em}
.cta{display:flex; gap:14px; margin:18px 0 14px}
.trust{list-style:none; display:flex; gap:14px; flex-wrap:wrap; padding:0; margin:10px 0 0; color:#cfe1ff}

/* Buttons */
.btn{--_bg:var(--panel-2); --_bd:rgba(255,255,255,.12); display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:12px 18px; border-radius:14px; color:#fff; text-decoration:none; border:1px solid var(--_bd); background:var(--_bg); box-shadow:inset 0 -1px 0 rgba(255,255,255,.08)}
.btn:hover{transform:translateY(-1px)}
.btn-primary{--_bg:linear-gradient(135deg,var(--brand),var(--accent)); --_bd:transparent; box-shadow:0 10px 30px rgba(0,169,255,.35)}
.btn-ghost{background:transparent; border-color:rgba(255,255,255,.2)}
.btn-outline{background:transparent; border:1px solid rgba(255,255,255,.35)}
.btn:focus-visible{ outline:none; box-shadow: var(--focus); }

/* Devices */
.device-previews{display:grid; gap:22px}
.device{position:relative; background:var(--panel); border:1px solid rgba(255,255,255,.1); border-radius:16px; padding:12px; box-shadow:var(--shadow)}
.device .screen{background:#0f1320; border-radius:12px; height:220px; overflow:hidden}
.device.desktop .screen{height:260px}
.device .cap{display:block; text-align:center; color:#c9daf3; padding:8px 0 2px; font-size:13px}
.skeleton{height:100%; background:linear-gradient(90deg, #172134 25%, #1b2740 37%, #172134 63%); background-size:400% 100%; animation: shimmer 2s infinite}
.phone .screen{border:6px solid #222; border-radius:28px}
@keyframes shimmer{0%{background-position:100% 0}100%{background-position:0 0}}

/* ========= Cards / Grids ========= */
.grid{display:grid; gap:22px}
.cards{grid-template-columns: repeat(3, 1fr)}
.card{background:var(--panel); border:1px solid rgba(255,255,255,.1); padding:22px; border-radius:var(--radius); box-shadow:var(--shadow)}

/* Унифицируем иконки */
.card .icon{
  width:56px; height:56px; display:grid; place-items:center;
  background:linear-gradient(135deg,var(--brand),var(--accent));
  border-radius:14px; font-weight:700; font-size:24px; margin-bottom:10px;
  box-shadow:0 8px 20px rgba(0,0,0,.25);
}

/* Services cards hover */
.cards .card{
  background: var(--panel);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: var(--radius);
  padding: 22px;
  box-shadow: var(--shadow);
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.cards .card:hover{
  transform: translateY(-6px);
  border-color: rgba(0,209,255,.35);
  box-shadow: 0 22px 50px rgba(0,209,255,.22);
}

/* Pricing */
.pricing{ grid-template-columns: repeat(3, 1fr); }
.price-card{
  background: var(--panel);
  border: 1px solid rgba(255,255,255,.12);
  padding: 24px; border-radius: 20px; position: relative;
  display:flex; flex-direction:column; justify-content:flex-start;
}
.price-card .price{ font-size:30px; font-weight:800; margin:8px 0 16px; }
.price-card .features{ color:#cfe1ff; padding-left:18px; flex-grow:1; }
.price-card .features li{ margin:6px 0; }
.price-card .btn{ margin-top:auto; align-self:flex-start; }
.price-card .badge{
  position:absolute; top:-12px; right:16px;
  background:linear-gradient(135deg, var(--brand), var(--ok));
  padding:6px 10px; border-radius:999px; font-size:12px;
}
.price-card.featured{ outline:2px solid #00d1ff55; box-shadow:0 30px 60px rgba(0, 209, 255, .2); }

/* Timeline */
.timeline{
  display:grid;
  grid-template-columns: 1fr;       /* одна колонка */
  gap: 34px;                        /* расстояние между шагами */
  position: relative;
  padding: 28px 0 32px;             /* место сверху/снизу под позвоночник */
}

/* центральный «позвоночник» с бегущим свечением */
.timeline::before{
  content:"";
  position:absolute; inset:0;
  width: 3px;
  margin: 0 auto;                   /* центр по контейнеру */
  background:
    linear-gradient(180deg,
      transparent 0%,
      rgba(0,209,255,.95) 20%,
      #6b8cff 50%,
      rgba(0,209,255,.95) 80%,
      transparent 100%);
  filter: drop-shadow(0 0 10px rgba(0,209,255,.55))
          drop-shadow(0 0 20px rgba(107,140,255,.35));
  background-size: 100% 300%;
  animation: spine-flow 6s linear infinite;
  border-radius: 999px;
}

.step{
  position: relative;
  background: var(--panel);
  border: 1px solid rgba(255,255,255,.10);
  padding: 22px 20px;
  border-radius: 18px;
  box-shadow: var(--shadow);
  max-width: 560px;                 /* ширина карточки */
}

/* чередуем расположение */
.step:nth-child(odd){ justify-self: start; }  /* слева */
.step:nth-child(even){ justify-self: end; }   /* справа */

/* неоновый коннектор от карточки к позвоночнику */
.step::after{
  content:"";
  position:absolute; top:50%; height:2px;
  background:
    linear-gradient(90deg,
      rgba(0,209,255,0) 0%,
      rgba(0,209,255,.9) 35%,
      #6b8cff 50%,
      rgba(0,209,255,.9) 65%,
      rgba(0,209,255,0) 100%);
  filter: drop-shadow(0 0 8px rgba(0,209,255,.55))
          drop-shadow(0 0 14px rgba(107,140,255,.35));
  transform: translateY(-50%);
  background-size: 200% 100%;
  animation: line-flow 3s linear infinite;
  pointer-events:none;
}

/* от левого блока — вправо к центру */
.step:nth-child(odd)::after{
  right: -34px;                     /* выходит за карточку к центру */
  width: calc(50% + 34px);          /* до оси таймлайна */
}

/* от правого блока — влево к центру */
.step:nth-child(even)::after{
  left: -34px;
  width: calc(50% + 34px);
  transform: translateY(-50%) scaleX(-1); /* развернуть градиент */
}

.step .num{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 42px; height: 42px; border-radius: 50%;
  display:grid; place-items:center;
  font-weight:800; color:#fff;
  background: linear-gradient(135deg,var(--brand),var(--accent));
  box-shadow: 0 0 0 2px rgba(255,255,255,.08) inset,
              0 10px 20px rgba(0,0,0,.35),
              0 0 22px rgba(0,209,255,.38);
  z-index: 1;
  animation: pulse 2.6s ease-in-out infinite;
}

/* бейдж висит у позвоночника — с нужной стороны */
.step:nth-child(odd) .num{ right: -21px; }    /* слева от оси */
.step:nth-child(even) .num{ left: -21px; }    /* справа от оси */


/* Gallery */
.gallery{grid-template-columns: repeat(4, 1fr)}
.shot{margin:0}
.thumb{height:180px; border-radius:16px; background:linear-gradient(135deg,#203152,#121a2e)}
.shimmer{position:relative; overflow:hidden}
.shimmer:after{content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent 0%, rgba(255,255,255,.18) 50%, transparent 100%); transform:translateX(-100%); animation:shine 2.2s infinite}
@keyframes shine{to{transform:translateX(100%)}}
.shot figcaption{margin-top:8px; color:#cfe1ff; font-size:14px}

/* Quotes */
.quotes{grid-template-columns: repeat(3, 1fr)}
.quote{background:var(--panel); border:1px solid rgba(255,255,255,.1); padding:18px; border-radius:18px}
.quote p{font-size:16px}

/* Contact */
.contact{background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.04))}
.contact-grid{display:grid; grid-template-columns: 1.1fr .9fr; gap:30px}
.contact-list{color:#cfe1ff; list-style:none; padding:0; margin:12px 0 0}
.contact-form{display:grid; gap:14px; background:var(--panel); padding:18px; border:1px solid rgba(255,255,255,.12); border-radius:18px}
.contact-form label{display:grid; gap:6px; font-size:14px}
.contact-form input, .contact-form textarea{
  width:100%; padding:12px 14px; border-radius:12px; border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.06); color:#fff; outline:none
}
.contact-form input:focus, .contact-form textarea:focus{border-color:#8ad7ff; box-shadow:var(--focus)}

/* Footer */
.site-footer{
  font-size: 15px;
  font-weight: 500;
  line-height: 1.6;
  letter-spacing: .1px;
}
.footer-inner{display:flex; align-items:center; justify-content:space-between; gap:16px}
.site-footer nav a{color:#cfe1ff; text-decoration:none; margin:0 8px}

/* Reveal */
.reveal{opacity:0; transform:translateY(10px); transition:opacity .6s ease, transform .6s ease}
.reveal.in{opacity:1; transform:none}

@keyframes spine-flow{
  0%   { background-position: 0 100%; }
  100% { background-position: 0 0; }
}

@keyframes line-flow{
  0%   { background-position: 200% 0; }
  100% { background-position: 0 0; }
}

@keyframes pulse{
  0%,100% { box-shadow: 0 0 0 2px rgba(255,255,255,.08) inset,
                         0 10px 20px rgba(0,0,0,.35),
                         0 0 18px rgba(0,209,255,.30); }
  50%     { box-shadow: 0 0 0 2px rgba(255,255,255,.08) inset,
                         0 10px 20px rgba(0,0,0,.35),
                         0 0 28px rgba(0,209,255,.48); }
}

/* Responsive */
@media (max-width:1100px){
  .hero-inner{grid-template-columns:1fr}
  .device-previews{grid-template-columns:1fr 1fr}
}
@media (max-width:900px){
  .cards, .pricing{grid-template-columns: repeat(2, 1fr)}
  .timeline{grid-template-columns: repeat(3, 1fr)}
  .gallery{grid-template-columns: repeat(3, 1fr)}
  .quotes{grid-template-columns: repeat(2, 1fr)}
  .contact-grid{grid-template-columns: 1fr}
}
@media (max-width:720px){
  .nav .burger{display:block}
  .nav .menu{position:absolute; right:16px; top:64px; flex-direction:column; background:rgba(12,14,24,.95);
    border:1px solid rgba(255,255,255,.1); padding:10px; border-radius:14px; display:none; min-width:190px}
  .nav .menu.open{display:flex}
  .cards, .pricing{grid-template-columns: 1fr}
  .timeline{grid-template-columns: repeat(2, 1fr)}
  .gallery{grid-template-columns: repeat(2, 1fr)}
}
@media (max-width: 720px){
  /* убираем вертикальную линию */
  .timeline::before{
    display: none;
  }

  /* карточки — одна колонка, одинаковая ширина и высота */
  .timeline{
    display: grid;
    grid-template-columns: 1fr;
    justify-items: center;
    align-items: stretch;
    gap: 24px; /* расстояние между карточками */
  }

  .step{
    width: 100%;              /* на всю ширину контейнера */
    max-width: 380px;         /* чтобы не растягивались слишком */
    min-height: 200px;        /* минимальная одинаковая высота */
    display: flex;
    flex-direction: column;
    justify-content: center;  /* контент по центру по вертикали */
    align-items: flex-start;  /* выравнивание текста влево */
    text-align: left;
    margin: 0 auto;
  }

  /* номер шага остаётся сбоку, не ломаем сетку */
  .step .num{
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  /* горизонтальные линии оставляем */
  .step::after{
    display: block;
  }
}


@media (max-width:480px){
  .timeline{grid-template-columns:1fr}
  .gallery{grid-template-columns:1fr}
}

/* Logo compact */
@media (max-width:720px){
  .logo-text{ display:none; }
  .logo-mark{ width:32px; height:32px; font-size:15px; }
}

/* Testimonials layout */
.quotes{ display:grid; grid-template-columns:repeat(3,1fr); gap:22px; }
.quote{
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.10);
  padding: 20px 18px; border-radius:18px; box-shadow:0 10px 30px rgba(0,0,0,.18); position:relative;
}
.quote p{font-size:16px; line-height:1.6; margin:0;}
.quote footer{margin-top:12px; color:#cfe1ff; opacity:.9}
.quote::before{
  content:"“"; position:absolute; left:14px; top:-14px; font-size:44px; line-height:1;
  background:linear-gradient(135deg,var(--brand),var(--accent));
  -webkit-background-clip:text; background-clip:text; color:transparent; opacity:.7;
}

/* Testimonials: mobile carousel */
@media (max-width:720px){
  .quotes{
    display:flex; gap:16px; overflow-x:auto; scroll-snap-type:x mandatory;
    -webkit-overflow-scrolling:touch; overscroll-behavior-x:contain;
    width:100vw; margin-left:50%; transform:translateX(-50%);
    padding:0 16px 14px; scroll-padding-left:16px;
  }
  .quotes::-webkit-scrollbar{ display:none; }
  .quotes{ scrollbar-width:none; }
  .quote{ flex:0 0 calc(100vw - 32px); scroll-snap-align:start; padding:18px 16px 20px; border-radius:16px; }
  .quote p{ font-size:15px; line-height:1.55; }
  .quote::before{ font-size:36px; top:-10px; left:10px; }
}
@media (max-width:480px){ .quote{ min-width:92%; } }

/* ===== Team ===== */
.team-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:22px; }
.member{
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.10);
  border-radius: var(--radius); padding:22px; box-shadow:var(--shadow);
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  position:relative; overflow:hidden; isolation:isolate;
}
.member::after{
  content:""; position:absolute; top:-40%; right:-20%; left:-20%; height:60%;
  background: radial-gradient(40% 60% at 50% 0%, rgba(107,140,255,.22), transparent 60%);
  opacity:0; transition:opacity .25s ease, transform .25s ease; transform:translateY(10px);
  pointer-events:none; z-index:-1;
}
.member:hover{ transform:translateY(-4px); border-color:rgba(0,209,255,.35); box-shadow:0 30px 60px rgba(0,0,0,.28); }
.member:hover::after{ opacity:.9; transform:translateY(0); }

.member .photo{
  width:84px; height:84px; border-radius:18px; display:grid; place-items:center; color:#fff; font-weight:800; letter-spacing:.5px;
  box-shadow: 0 12px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.16); margin-bottom:14px;
}
.member .photo .initials{ font-size:22px; }
.member .photo.ring{ background:linear-gradient(135deg, var(--brand), var(--accent)); position:relative; }
@supports (-webkit-mask: none) or (mask-composite: exclude){
  .member .photo.ring::before{
    content:""; position:absolute; inset:-3px; border-radius:20px;
    background:
      linear-gradient(135deg, var(--brand), var(--accent)) padding-box,
      linear-gradient(135deg, rgba(255,255,255,.35), rgba(255,255,255,0)) border-box;
    -webkit-mask:
      linear-gradient(#000 0 0) padding-box,
      linear-gradient(#000 0 0) border-box;
    mask:
      linear-gradient(#000 0 0) padding-box,
      linear-gradient(#000 0 0) border-box;
    -webkit-mask-composite:xor; mask-composite:exclude;
  }
}
@supports not ((-webkit-mask: none) or (mask-composite: exclude)){
  .member .photo.ring{ box-shadow: 0 12px 30px rgba(0,0,0,.35), 0 0 0 2px rgba(255,255,255,.18) inset; }
}
.member .photo.gradient-1{ background:linear-gradient(135deg,#6b8cff,#20e3b2); }
.member .photo.gradient-2{ background:linear-gradient(135deg,#00d1ff,#6b8cff); }
.member .photo.gradient-3{ background:linear-gradient(135deg,#20e3b2,#6b8cff); }
.member .photo.gradient-4{ background:linear-gradient(135deg,#6b8cff,#8ad7ff); }
.member .photo.gradient-5{ background:linear-gradient(135deg,#00d1ff,#20e3b2); }

.member .name{ margin:6px 0 4px; font-size:18px; }
.member .role{ margin:0 0 10px; color:var(--muted); font-size:14px; }
.member .tags{ display:flex; flex-wrap:wrap; gap:8px; list-style:none; padding:0; margin:8px 0 0; }
.member .tags li{
  font-size:12px; color:#e7eeff; background:var(--panel); border:1px solid rgba(255,255,255,.12);
  padding:6px 8px; border-radius:999px;
}
@media (max-width:900px){ .team-grid{grid-template-columns:repeat(2,1fr);} }
@media (max-width:720px){ .team-grid{grid-template-columns:1fr;} .member{padding:18px;} }

/* Back-to-top */
.to-top{
  position:fixed; right:16px; bottom:calc(16px + env(safe-area-inset-bottom, 0));
  width:48px; height:48px; border-radius:14px; border:1px solid rgba(255,255,255,.18);
  background:linear-gradient(135deg,var(--brand),var(--accent)); color:#fff;
  box-shadow:0 14px 32px rgba(0,0,0,.35); display:grid; place-items:center; cursor:pointer;
  opacity:0; visibility:hidden; transform:translateY(8px);
  transition:opacity .25s ease, transform .25s ease, box-shadow .2s ease, background .2s ease;
  z-index:90;
}
.to-top:hover{ box-shadow:0 18px 40px rgba(0,0,0,.45); }
.to-top.show{ opacity:1; visibility:visible; transform:translateY(0); }
@media (min-width:721px){ .to-top{ display:none; } }
@media (prefers-reduced-motion: reduce){ .to-top{ transition:none; } }

/* Hero device-previews: mobile 1 column */
@media (max-width:720px){
  .device-previews{ grid-template-columns:1fr; gap:16px; }
  .device.desktop .screen{ height:240px; }
}
.screen video{ width:100%; height:100%; object-fit:cover; border-radius:12px; display:block; }

/* ===== Extras (ORBIT) ===== */
.extras{
  --orbitTopGap: clamp(120px, 12vw, 220px);
  --orbitBottomGap: clamp(140px, 14vw, 240px);
  position: relative;
  overflow: visible;
}
.extras .section-title{ margin-bottom:6px; position: relative; z-index: 3; }
#extras .section-lead{ margin-bottom:32px; position: relative; z-index: 3; }

/* Анимируем переменную угла */
@property --spin {
  syntax: "<angle>";
  inherits: true;
  initial-value: 0deg;
}

/* Контейнер орбиты */
.extras-orbit{
  --spin: 0deg;
  position: relative;
  height: clamp(700px, 75vw, 1000px);
  max-width: min(1300px, 95vw);
  margin: var(--orbitTopGap) auto var(--orbitBottomGap);
  perspective: 1200px;
  isolation: isolate;
  animation: orbit-rotate 180s linear infinite;
}
@keyframes orbit-rotate { to { --spin: 360deg; } }

/* Фоновые светящиеся кольца */
.extras-orbit::before,
.extras-orbit::after{
  content:"";
  position:absolute;
  inset:0;
  margin:auto;
  border-radius:50%;
  pointer-events:none;
  filter: blur(.3px);
}
.extras-orbit::before{
  width: 92%;
  height:92%;
  box-shadow:
    0 0 0 1px rgba(255,255,255,.05) inset,
    0 0 70px rgba(0,209,255,.10),
    0 0 140px rgba(107,140,255,.06);
  background:
    radial-gradient(closest-side, transparent 70%, rgba(0,209,255,.06) 74%, transparent 78%) center/100% 100% no-repeat;
}
.extras-orbit::after{
  width: 66%;
  height:66%;
  box-shadow:
    0 0 0 1px rgba(255,255,255,.05) inset,
    0 0 50px rgba(0,209,255,.10),
    0 0 100px rgba(107,140,255,.05);
  opacity:.8;
}

/* Карточки на орбите */
.extras-orbit .card{
  position: absolute;
  width: clamp(240px, 27vw, 280px);
  height: clamp(168px, 19.5vw, 200px);
  padding: 18px;
  border-radius: var(--radius);
  background: var(--panel);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: var(--shadow);
  backdrop-filter: blur(4px);
  transform-style: preserve-3d;
  will-change: transform, filter, opacity;
  transition: transform .28s ease, box-shadow .28s ease, border-color .28s ease,
              opacity .2s ease, filter .2s ease, z-index .1s;

  --R: clamp(420px, 40vw, 560px);
  left: 50%;
  top: 50%;
  transform:
    translate(-50%, -50%)
    rotate(calc(var(--angle) + var(--spin)))
    translate(var(--R))
    rotate(calc(-1 * (var(--angle) + var(--spin))));
}

/* Визуал карточек */
.extras-orbit .card .icon{
  width:48px; height:48px; font-size:22px;
  display:grid; place-items:center;
  border-radius:14px;
  background:linear-gradient(135deg,var(--brand),var(--accent));
  box-shadow:0 8px 20px rgba(0,0,0,.25);
  margin-bottom:10px;
}
.extras-orbit .card h3{ margin:6px 0 6px; font-size:16px; }
.extras-orbit .card p{ color:var(--muted); font-size:14px; line-height:1.5; }

/* Углы для 12 карточек */
.extras-orbit .card:nth-child(1)  { --angle:  -90deg; }
.extras-orbit .card:nth-child(2)  { --angle:  -60deg; }
.extras-orbit .card:nth-child(3)  { --angle:  -30deg; }
.extras-orbit .card:nth-child(4)  { --angle:    0deg; }
.extras-orbit .card:nth-child(5)  { --angle:   30deg; }
.extras-orbit .card:nth-child(6)  { --angle:   60deg; }
.extras-orbit .card:nth-child(7)  { --angle:   90deg; }
.extras-orbit .card:nth-child(8)  { --angle:  120deg; }
.extras-orbit .card:nth-child(9)  { --angle:  150deg; }
.extras-orbit .card:nth-child(10) { --angle:  180deg; }
.extras-orbit .card:nth-child(11) { --angle: -150deg; }
.extras-orbit .card:nth-child(12) { --angle: -120deg; }

/* Ховер: пауза орбиты + эффект фокуса */

/* Пауза орбиты только когда ховернутА КАРТОЧКА */
.extras-orbit:has(.card:hover){
  animation-play-state: paused;
}

/* Блекнут только не-ховер карточки, когда какая-то карточка активна */
.extras-orbit .card:hover,
.extras-orbit .card:focus-within{
  opacity:1;
  filter:none;
  z-index:20;
  border-color: rgba(0,209,255,.38);
  box-shadow: 0 28px 70px rgba(0,209,255,.25);
  transform:
    translate(-50%,-50%)
    rotate(calc(var(--angle) + var(--spin)))
    translate(calc(var(--R) + 10px))
    rotate(calc(-1 * (var(--angle) + var(--spin))))
    scale(1.14);
}

/* Блекнут только НЕ активные карточки (тёмная тема) */
.extras-orbit:has(.card:is(:hover, :focus-within)) .card:not(:is(:hover, :focus-within)){
  opacity:.35;
  filter: blur(1px) saturate(.85);
  z-index:1;
  transition: transform .28s ease, box-shadow .28s ease, border-color .28s ease,
              opacity .2s ease, filter .2s ease, z-index .1s;
}


.extras-orbit .card:hover,
.extras-orbit .card:focus-within{
  opacity:1;
  filter:none;
  z-index: 20;
  border-color: rgba(0,209,255,.38);
  box-shadow: 0 28px 70px rgba(0,209,255,.25);
  transform:
    translate(-50%,-50%)
    rotate(calc(var(--angle) + var(--spin)))
    translate(calc(var(--R) + 10px))
    rotate(calc(-1 * (var(--angle) + var(--spin))))
    scale(1.14);
}

/* ===== Extras ORBIT: мобильный вариант — без орбиты и эффектов ===== */
@media (max-width: 720px){
  .extras-orbit{
    animation: none;
    perspective: none;
    isolation: auto;

    /* простая колонка карточек */
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;

    height: auto;
    max-width: none;
    margin: 18px auto 0;
  }

  /* убираем фоновые кольца */
  .extras-orbit::before,
  .extras-orbit::after{
    display: none;
    content: none;
  }

  /* карточки — обычные, статичные */
  .extras-orbit .card{
    position: static;
    width: 100%;
    height: auto;
    transform: none !important;
    padding: 16px;

    backdrop-filter: none;
    transition: none;
    opacity: 1;
    filter: none;
    z-index: auto;
  }

  /* отключаем любые эффекты при hover/фокусе/нажатии */
  .extras-orbit:hover .card,
  .extras-orbit .card:hover,
  .extras-orbit .card:focus,
  .extras-orbit .card:focus-within,
  .extras-orbit .card:active{
    transform: none !important;
    box-shadow: var(--shadow);
    border-color: rgba(255,255,255,.12);
    opacity: 1 !important;
    filter: none !important;
    z-index: auto !important;
  }
}

/* планшет — сетка 2 колонки, тоже без орбитных эффектов */
@media (min-width: 721px) and (max-width: 980px){
  .extras-orbit{
    animation: none;
    height: auto; max-width: none; margin-top: 18px;
    display: grid; grid-template-columns: repeat(2, 1fr); gap: 18px;
  }
  .extras-orbit::before,
  .extras-orbit::after{ display:none; }
  .extras-orbit .card{
    position: static; transform: none !important; width: 100%; height: auto;
    opacity:1; filter:none; transition:none;
  }
  .extras-orbit:hover .card,
  .extras-orbit .card:hover,
  .extras-orbit .card:focus-within{ opacity:1; filter:none; transform:none !important; }
}



/* Promo video */
.video-bleed{
  width:min(1160px, 92vw); margin:0 auto; position:relative; overflow:hidden;
  box-shadow:0 20px 40px rgba(0,0,0,.35);
}
.promo-video{
  width:100%; height:auto; max-height:60vh; object-fit:cover; display:block;
  -webkit-mask-image: radial-gradient(ellipse at center, rgba(0,0,0,1) 85%, rgba(0,0,0,0) 100%);
  -webkit-mask-repeat:no-repeat; -webkit-mask-size:cover;
  mask-image: radial-gradient(ellipse at center, rgba(0,0,0,1) 85%, rgba(0,0,0,0) 100%);
  mask-repeat:no-repeat; mask-size:cover;
}

/* ======================= LIGHT THEME ======================= */
html[data-theme="light"]{
  --bg:#f7f9ff;
  --panel: rgba(255,255,255,0.70);
  --panel-2: rgba(255,255,255,0.80);
  --text:#0a1020;
  --muted:#455574;               /* темнее, читаемее */
  --brand:#4f74ff;
  --accent:#00b6ff;
  --ok:#15cfa2;
  --warn:#d08a00;
  --shadow:0 14px 28px rgba(18,32,71,.10);
  --focus:0 0 0 3px rgba(0,182,255,.20);
}
html[data-theme="light"] ::selection{ background:#cfe9ff; color:#0a1020; }

/* фон + орбы */
html[data-theme="light"] body{
  background:
    radial-gradient(1200px 600px at 8% -12%, #7d98ff2b 0%, transparent 60%),
    radial-gradient(900px 600px at 110% 8%, #00b7ff22 0%, transparent 65%),
    conic-gradient(from 210deg at 70% 30%, #ffffff 0deg, #f2f6ff 120deg, #f7f9ff 240deg, #eef4ff 360deg);
  color:var(--text);
}
html[data-theme="light"] .bg-orbs::before{
  background:
    radial-gradient(1200px 600px at 8% -12%, #7d98ff26 0%, transparent 62%),
    radial-gradient(900px 600px at 110% 8%, #00b6ff1a 0%, transparent 68%),
    radial-gradient(700px 500px at 50% 118%, #15cfa21a 0%, transparent 72%),
    linear-gradient(180deg, #f4f7ff, #f7f9ff);
  filter:blur(14px); opacity:.55;
}

/* header/footer */
html[data-theme="light"] .site-header{
  background:rgba(255,255,255,.86);
  border-bottom:1px solid rgba(13,25,54,.08);
  backdrop-filter:saturate(130%) blur(10px);
}
html[data-theme="light"] .site-footer{
  background:rgba(255,255,255,.84);
  border-top:1px solid rgba(13,25,54,.08);
}
html[data-theme="light"] .nav .menu a{ color:#1b2746; }
html[data-theme="light"] .nav .menu a:hover{ background:rgba(13,25,54,.06); }
html[data-theme="light"] .theme{ border-color:rgba(13,25,54,.14); }

/* surface cards */
html[data-theme="light"] .card,
html[data-theme="light"] .quote,
html[data-theme="light"] .member,
html[data-theme="light"] .contact-form,
html[data-theme="light"] .device,
html[data-theme="light"] .step{
  border:1px solid rgba(13,25,54,.10);
  background:linear-gradient(180deg, rgba(255,255,255,.78), rgba(255,255,255,.66));
  box-shadow:0 10px 26px rgba(13,25,54,.08);
}

/* текстовые уровни */
html[data-theme="light"] .section-title{ color:#0a1020; }
html[data-theme="light"] .section-lead,
html[data-theme="light"] .lead,
html[data-theme="light"] .contact-list,
html[data-theme="light"] .price-card .features,
html[data-theme="light"] .device .cap,
html[data-theme="light"] .trust{ color:#455574; } /* был слишком светлый */

/* кнопки */
html[data-theme="light"] .btn-ghost{ border-color:rgba(13,25,54,.16); color:#0a1020; }
html[data-theme="light"] .btn-outline{ border:1px solid rgba(13,25,54,.32); color:#0a1020; }
html[data-theme="light"] .btn:focus-visible{ box-shadow:var(--focus); }

/* inputs */
html[data-theme="light"] .contact-form input,
html[data-theme="light"] .contact-form textarea{
  background:#fff; color:#0a1020; border:1px solid rgba(13,25,54,.18);
}
html[data-theme="light"] .contact-form input::placeholder,
html[data-theme="light"] .contact-form textarea::placeholder{ color:#7382a0; }
html[data-theme="light"] .contact-form input:focus,
html[data-theme="light"] .contact-form textarea:focus{
  border-color:#8ad7ff; box-shadow:var(--focus);
}

/* галерея/экраны */
html[data-theme="light"] .thumb{ background:linear-gradient(135deg,#eaf0ff,#dfe7fb); }
html[data-theme="light"] .device .screen{ background:#f2f5ff; }
html[data-theme="light"] .shimmer:after{
  background:linear-gradient(120deg, transparent 0%, rgba(13,25,54,.10) 50%, transparent 100%);
}

/* цитаты */
html[data-theme="light"] .quote{
  background:linear-gradient(180deg, rgba(255,255,255,.80), rgba(255,255,255,.68));
}
html[data-theme="light"] .quote footer{ color:#5a6a89; }

/* ховеры */
html[data-theme="light"] .cards .card:hover,
html[data-theme="light"] .extras .card:hover{
  transform:translateY(-6px);
  border-color:rgba(0,182,255,.28);
  box-shadow:0 22px 48px rgba(13,25,54,.12);
}

/* timeline numbers */
html[data-theme="light"] .step .num{ color:#fff; box-shadow:0 6px 14px rgba(0,0,0,.12); }

/* tags */
html[data-theme="light"] .member .tags li{
  color:#1b2746;
  background:rgba(255,255,255,.86);
  border:1px solid rgba(13,25,54,.10);
}

/* section fog */
html[data-theme="light"] .section.alt{ background:linear-gradient(180deg, transparent, rgba(13,25,54,.04)); }

/* to-top */
html[data-theme="light"] .to-top{
  border-color:rgba(13,25,54,.18);
  box-shadow:0 12px 28px rgba(13,25,54,.15);
}

/* mobile orbs */
@media (max-width:720px){
  html[data-theme="light"] .bg-orbs::before{
    background:
      radial-gradient(70% 40% at 0% 0%, #7d98ff26 0%, transparent 64%),
      radial-gradient(60% 35% at 100% 10%, #00b6ff1a 0%, transparent 70%),
      radial-gradient(65% 40% at 50% 100%, #15cfa21a 0%, transparent 72%),
      linear-gradient(180deg, #f2f6ff, #f7f9ff);
  }
}
/* === Language badges: контраст в светлой теме === */
html[data-theme="light"] .lang{
  background: #eef3ff;                         /* заметная «пилюля» */
  color: #0a1020;                              /* тёмный текст */
  border: 1px solid rgba(13,25,54,.18);        /* чёткая рамка */
  box-shadow: inset 0 -1px 0 rgba(255,255,255,.6);
}
html[data-theme="light"] .lang:hover{
  background: #e1e9ff;
  border-color: rgba(13,25,54,.28);
}
/* активная остаётся фирменным градиентом, но фиксируем контраст и тени */
html[data-theme="light"] .lang.active{
  background: linear-gradient(135deg, var(--brand), var(--accent)) !important;
  color: #fff !important;
  border-color: transparent !important;
  box-shadow: 0 10px 24px rgba(0,183,255,.28), inset 0 1px 0 rgba(255,255,255,.45);
}

/* Клавиатурная доступность для обеих тем */
.lang:focus-visible{
  outline: 2px solid #0ea5e9;
  outline-offset: 2px;
}
/* ===== Unified gallery captions (темная + светлая тема) ===== */

/* базовый стиль — одинаковый в обеих темах */
.shot figcaption{
  margin-top: 8px;
  font-size: 15px;               /* единый размер */
  font-weight: 500;              /* одинаковая толщина */
  letter-spacing: .1px;
  line-height: 1.5;
  transition: color .25s ease;
}

/* тёмная тема */
html:not([data-theme="light"]) .shot figcaption{
  color: #cfe1ff;                /* чуть мягкий голубовато-белый */
  text-shadow: 0 1px 0 rgba(0,0,0,.25);
}

/* светлая тема */
html[data-theme="light"] .shot figcaption{
  color: #384b6a;                /* контрастный нейтрально-синий текст */
  text-shadow: 0 1px 0 rgba(255,255,255,.7);
}

/* hover — одинаковый эффект в обеих темах */
.shot:hover figcaption,
.shot:focus-within figcaption{
  color: var(--accent);
  text-shadow: none;
}
/* ===== Footer contrast fix for light theme ===== */
/* Тёмная тема */
html:not([data-theme="light"]) .site-footer,
html:not([data-theme="light"]) .site-footer nav a{
  color: #cfe1ff;
  text-shadow: 0 1px 0 rgba(0,0,0,.25);
}

/* Светлая тема */
html[data-theme="light"] .site-footer,
html[data-theme="light"] .site-footer nav a{
  color: #2f3a52;
  text-shadow: 0 1px 0 rgba(255,255,255,.5);
  font-weight: 500;  /* сохраняем визуальную плотность */
}

/* Hover одинаковый в обеих темах */
.site-footer nav a:hover{
  color: var(--accent);
  text-shadow: none;
}

/* ===== ORBIT — Light theme parity (hover only on card) ===== */

/* стоп вращения только если ховер именно на карточке */
html[data-theme="light"] .extras-orbit:has(.card:hover){
  animation-play-state: paused;
}

/* Блекнут только НЕ активные карточки (светлая тема) */
html[data-theme="light"] .extras-orbit:has(.card:is(:hover, :focus-within)) .card:not(:is(:hover, :focus-within)){
  opacity:.35;
  filter: blur(1px) saturate(.85);
  z-index:1;
  transition: transform .28s ease, box-shadow .28s ease, border-color .28s ease,
              opacity .2s ease, filter .2s ease, z-index .1s;
}


/* активная карточка — вынос наружу + scale + контрастная кромка и glow */
html[data-theme="light"] .extras-orbit .card:hover,
html[data-theme="light"] .extras-orbit .card:focus-within{
  opacity: 1;
  filter: none;
  z-index: 20;

  transform:
    translate(-50%,-50%)
    rotate(calc(var(--angle) + var(--spin)))
    translate(calc(var(--R) + 10px))
    rotate(calc(-1 * (var(--angle) + var(--spin))))
    scale(1.14);

  border-color: rgba(0,182,255,.42); /* акцент под светлую тему */
  box-shadow:
    0 30px 80px rgba(0,182,255,.22),   /* неоновый glow */
    0 12px 26px rgba(13,25,54,.10);    /* мягкая тень */
}

/* тонкое внутреннее свечение для активной */
html[data-theme="light"] .extras-orbit .card:hover::after,
html[data-theme="light"] .extras-orbit .card:focus-within::after{
  content:"";
  position:absolute; inset:-1px;
  border-radius: inherit;
  pointer-events:none;
  box-shadow: 0 0 0 1px rgba(0,182,255,.28) inset, 0 0 24px rgba(0,182,255,.18);
}

/* микрофиксы рендеринга при scale */
html[data-theme="light"] .extras-orbit .card{
  backface-visibility: hidden;
  transform-style: preserve-3d;
  will-change: transform, filter, opacity;
}

/* ==== FIX: компактные линии таймлайна на мобиле (не выходят за экран) ==== */
@media (max-width: 720px){
  .timeline{ overflow: hidden; } /* подстраховка от случайных вылетов */

  /* немного места справа под номер и короткий коннектор */
  .step{
    max-width: 100%;
    padding-right: 60px;
  }

  /* переопределяем ширину и позицию линий для всех карточек */
  .step::after,
  .step:nth-child(odd)::after,
  .step:nth-child(even)::after{
    left: auto !important;
    right: 12px !important;
    width: clamp(24px, 8vw, 36px) !important;   /* КОРОТКАЯ линия */
    height: 2px;
    transform: translateY(-50%) !important;     /* убираем scaleX(-1) у even */
  }

  /* номер шага фиксируем внутри карточки справа */
  .step .num{
    left: auto !important;
    right: 8px !important;
    top: 50%;
    transform: translateY(-50%);
  }
}

/* ==== FIX горизонтального скролла от таймлайна на мобиле ==== */
html, body{
  max-width: 100%;
  overflow-x: hidden;     /* жёсткий стоп внешнему скроллу */
}

@media (max-width: 720px){
  .timeline{
    position: relative;
    overflow: hidden;     /* обрезаем хвосты внутри таймлайна */
  }

  /* даём место справа под номер и короткую линию */
  .timeline .step{
    padding-right: 72px;
  }

  /* КОРОТКАЯ линия строго внутри карточки (перебиваем все варианты) */
  .timeline .step::after,
  .timeline .step:nth-child(odd)::after,
  .timeline .step:nth-child(even)::after{
    left: auto !important;
    right: 16px !important;
    width: clamp(28px, 12vw, 56px) !important; /* короче и безопасно */
    height: 2px;
    transform: translateY(-50%) !important;    /* убираем scaleX(-1) у even */
  }

  /* кружок с номером — тоже ВНУТРИ карточки */
  .timeline .step .num{
    left: auto !important;
    right: 8px !important;
    top: 50%;
    transform: translateY(-50%);
  }
}


